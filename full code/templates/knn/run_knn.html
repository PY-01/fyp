<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>k-NN Results</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Signika+Negative:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
    
    <!-- Link to the styles.css file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='algo_styles.css') }}">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">Machine Learning Made Visual (MLMV)</div>
        
        <!-- Hamburger Icon for Small Screens -->
        <div class="menu-toggle" id="mobile-menu">
            &#9776;
        </div>
        
        <ul class="nav-links" id="nav-links">
            <li><a href="/">Home</a></li>
            <li class="dropdown">
                <a href="#" class="dropbtn">Algorithms</a>
                <div class="dropdown-content">
                    <a href="/knn">k-NN</a>
                    <a href="/dc">Decision Trees</a>
                    <a href="/kmeans">k-Means</a>
                </div>
            </li>
            <li><a href="/explore">Pre-Built Examples</a></li>
            <li><a href="/theory">Theory</a></li>
            <li><a href="/guides">Guides</a></li>
            <li><a href="/about">About</a></li>
        </ul>
    </nav>
    
    <!-- Content Container -->
    <div class="content-container">
        <h1><i>k</i>-Nearest Neighbours Results</h1>
        
        <!-- Video of k-NN Animation -->
        <div class="video-container">
            <!-- Video of k-NN Animation -->
            <video id="knnVideo" width="600" controls>
                <source src="{{ video_path }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        
        <!-- Buttons to control the video -->
        <div class="button-container">
            <button onclick="document.getElementById('knnVideo').play()">Start</button>
            <button onclick="document.getElementById('knnVideo').pause()">Pause</button>
            <button onclick="document.getElementById('knnVideo').currentTime += 1">Step Forward</button>
            <button onclick="document.getElementById('knnVideo').currentTime -= 1">Step Backward</button>
            <button onclick="document.getElementById('knnVideo').currentTime = document.getElementById('knnVideo').duration; document.getElementById('knnVideo').pause()">End</button>
        </div>
        
        <!-- Speed control slider -->
        <div class="speed-control">
            <label for="speedRange">Playback Speed:</label>
            <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1" onchange="adjustSpeed(this.value)">
            <span id="speedValue">1.0x</span>
        </div>

        <!-- Button to explore different k values -->
        <div class="button-container">
            <button onclick="window.location.href='/select_k'">Explore Different k Values</button>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p>Â© 2024 Loo Pei Yin. All rights reserved.</p>
    </footer>
    
    <script>
        // JavaScript to handle the hamburger menu toggle
        const menuToggle = document.getElementById('mobile-menu');
        const navLinks = document.getElementById('nav-links');
        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('show');
        });

        // Video control functions
        const video = document.getElementById("knnVideo");

        function adjustSpeed(value) {
            video.playbackRate = parseFloat(value); // Set playback speed
            document.getElementById("speedValue").textContent = value + 'x'; // Update displayed speed value
        }
    </script>
</body>
</html>
